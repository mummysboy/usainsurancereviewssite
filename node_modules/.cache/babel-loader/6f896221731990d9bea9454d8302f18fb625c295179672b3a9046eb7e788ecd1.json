{"ast":null,"code":"import React,{useState,useContext,useEffect}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{CSSTransition}from\"react-transition-group\";import{FormDataContext}from\"../../contexts/FormDataContext\";import\"../../styles/flowOne/ZipCodePage.css\";// Custom CSS file for styling\nimport Header from\"../UserFlowOne/Header\";import Footer from\"../UserFlowOne/Footer\";import insurance1 from\"./../../images/insurance1.jpeg\";import loading from\"./../../images/loading.png\";// Placeholder image for lazy loading\nimport LazyImage from\"../UserFlowOne/LazyImage\";// Lazy loading component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ZipCodePage2=()=>{const navigate=useNavigate();const location=useLocation();// Hook to access the current URL\nconst{formData,setFormData}=useContext(FormDataContext);const[zipCode,setZipCode]=useState(formData.zipCode||\"\");const[errorMessage,setErrorMessage]=useState(\"\");useEffect(()=>{// Extract campaign parameters from URL or use localStorage\nconst params=new URLSearchParams(location.search);const campaignName=params.get(\"campaign_name\")||localStorage.getItem(\"campaign_name\")||\"default_campaign\";const campaignId=params.get(\"campaign_id\")||localStorage.getItem(\"campaign_id\")||\"default_id\";const clickId=params.get(\"click_id\")||localStorage.getItem(\"click_id\")||\"default_click\";// Store these parameters in localStorage to persist data\nif(campaignName){localStorage.setItem(\"campaign_name\",campaignName);}if(campaignId){localStorage.setItem(\"campaign_id\",campaignId);}if(clickId){localStorage.setItem(\"click_id\",clickId);}// MediaGo Pixel Initialization\nwindow._megoaa=window._megoaa||[];window._megoaa.push({type:\"event\",name:\"view\",acid:\"804\",pxd:\"1167701885451231\"});},[location]);const handleSubmit=e=>{e.preventDefault();// Check if zip code is valid\nconst zipCodeRegex=/^\\d{5}$/;// Only allows 5 digits (basic US zip code format)\nif(!zipCodeRegex.test(zipCode)){setErrorMessage(\"Please enter a valid 5-digit zip code\");return;}setErrorMessage(\"\");// MediaGo conversion tracking\nwindow._megoaa.push({type:\"event\",name:\"conversion\",acid:\"804\",pxd:\"1167701885451231\"});// Add the green-active effect to the button\nconst submitButton=e.target.querySelector(\".get-started-button\");submitButton.classList.add(\"green-active\");// Store the zip code in the form data context and local storage\nsetFormData({...formData,zipCode});localStorage.setItem(\"zip_code\",zipCode);// Delay the navigation to show the green effect\nsetTimeout(()=>{// Navigate to the step-one page in the current tab\nnavigate(\"/step-one2\");},500);// Delay for a noticeable effect\n};return/*#__PURE__*/_jsx(CSSTransition,{in:true,appear:true,timeout:1500,classNames:\"fade-slide\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(LazyImage,{src:insurance1,alt:\"Save on Insurance Banner\",className:\"banner-image\",placeholder:loading}),/*#__PURE__*/_jsxs(\"div\",{className:\"zip-code-card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Better Coverage, Better Costs Compare Top Insurance Providers Today\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zip\",className:\"input-label\",children:\"What is your zip code?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"zip\",value:zipCode,onChange:e=>setZipCode(e.target.value),placeholder:\"Enter Zip\",className:\"zip-input\",maxLength:\"5\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"get-started-button\",children:\"Get Started\"})]})]})]}),/*#__PURE__*/_jsx(\"noscript\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"//trace.mediago.io/api/bidder/track/pixel/conversion?cvn=view&acid=804&pxd=1167701885451231&tn=f9f2b1ef23fe2759c2cad0953029a94b\",width:\"0\",height:\"0\",style:{display:\"none\"}})}),/*#__PURE__*/_jsx(Footer,{})]})});};export default ZipCodePage2;","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","useLocation","CSSTransition","FormDataContext","Header","Footer","insurance1","loading","LazyImage","jsx","_jsx","jsxs","_jsxs","ZipCodePage2","navigate","location","formData","setFormData","zipCode","setZipCode","errorMessage","setErrorMessage","params","URLSearchParams","search","campaignName","get","localStorage","getItem","campaignId","clickId","setItem","window","_megoaa","push","type","name","acid","pxd","handleSubmit","e","preventDefault","zipCodeRegex","test","submitButton","target","querySelector","classList","add","setTimeout","in","appear","timeout","classNames","children","className","src","alt","placeholder","onSubmit","htmlFor","id","value","onChange","maxLength","width","height","style","display"],"sources":["C:/Users/Monetizelab/OneDrive/Desktop/trisDoc/usainsurancereviews/insurance-form/src/components/UserFlowTwo/ZipCodePage2.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { FormDataContext } from \"../../contexts/FormDataContext\";\r\nimport \"../../styles/flowOne/ZipCodePage.css\"; // Custom CSS file for styling\r\nimport Header from \"../UserFlowOne/Header\";\r\nimport Footer from \"../UserFlowOne/Footer\";\r\nimport insurance1 from \"./../../images/insurance1.jpeg\";\r\nimport loading from \"./../../images/loading.png\"; // Placeholder image for lazy loading\r\nimport LazyImage from \"../UserFlowOne/LazyImage\"; // Lazy loading component\r\n\r\nconst ZipCodePage2 = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation(); // Hook to access the current URL\r\n  const { formData, setFormData } = useContext(FormDataContext);\r\n  const [zipCode, setZipCode] = useState(formData.zipCode || \"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Extract campaign parameters from URL or use localStorage\r\n    const params = new URLSearchParams(location.search);\r\n    const campaignName =\r\n      params.get(\"campaign_name\") ||\r\n      localStorage.getItem(\"campaign_name\") ||\r\n      \"default_campaign\";\r\n    const campaignId =\r\n      params.get(\"campaign_id\") ||\r\n      localStorage.getItem(\"campaign_id\") ||\r\n      \"default_id\";\r\n    const clickId =\r\n      params.get(\"click_id\") ||\r\n      localStorage.getItem(\"click_id\") ||\r\n      \"default_click\";\r\n\r\n    // Store these parameters in localStorage to persist data\r\n    if (campaignName) {\r\n      localStorage.setItem(\"campaign_name\", campaignName);\r\n    }\r\n    if (campaignId) {\r\n      localStorage.setItem(\"campaign_id\", campaignId);\r\n    }\r\n    if (clickId) {\r\n      localStorage.setItem(\"click_id\", clickId);\r\n    }\r\n\r\n    // MediaGo Pixel Initialization\r\n    window._megoaa = window._megoaa || [];\r\n    window._megoaa.push({\r\n      type: \"event\",\r\n      name: \"view\",\r\n      acid: \"804\",\r\n      pxd: \"1167701885451231\",\r\n    });\r\n  }, [location]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Check if zip code is valid\r\n    const zipCodeRegex = /^\\d{5}$/; // Only allows 5 digits (basic US zip code format)\r\n    if (!zipCodeRegex.test(zipCode)) {\r\n      setErrorMessage(\"Please enter a valid 5-digit zip code\");\r\n      return;\r\n    }\r\n\r\n    setErrorMessage(\"\");\r\n\r\n    // MediaGo conversion tracking\r\n    window._megoaa.push({\r\n      type: \"event\",\r\n      name: \"conversion\",\r\n      acid: \"804\",\r\n      pxd: \"1167701885451231\",\r\n    });\r\n\r\n    // Add the green-active effect to the button\r\n    const submitButton = e.target.querySelector(\".get-started-button\");\r\n    submitButton.classList.add(\"green-active\");\r\n\r\n    // Store the zip code in the form data context and local storage\r\n    setFormData({ ...formData, zipCode });\r\n    localStorage.setItem(\"zip_code\", zipCode);\r\n\r\n    // Delay the navigation to show the green effect\r\n    setTimeout(() => {\r\n      // Navigate to the step-one page in the current tab\r\n      navigate(\"/step-one2\");\r\n    }, 500); // Delay for a noticeable effect\r\n  };\r\n\r\n  return (\r\n    <CSSTransition\r\n      in={true}\r\n      appear={true}\r\n      timeout={1500}\r\n      classNames=\"fade-slide\"\r\n    >\r\n      <div className=\"container\">\r\n        <Header />\r\n        <div className=\"content-container\">\r\n          <LazyImage\r\n            src={insurance1}\r\n            alt=\"Save on Insurance Banner\"\r\n            className=\"banner-image\"\r\n            placeholder={loading}\r\n          />\r\n          <div className=\"zip-code-card\">\r\n            <h1>\r\n              Better Coverage, Better Costs Compare Top Insurance Providers\r\n              Today\r\n            </h1>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"input-container\">\r\n                <label htmlFor=\"zip\" className=\"input-label\">\r\n                  What is your zip code?\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"zip\"\r\n                  value={zipCode}\r\n                  onChange={(e) => setZipCode(e.target.value)}\r\n                  placeholder=\"Enter Zip\"\r\n                  className=\"zip-input\"\r\n                  maxLength=\"5\"\r\n                />\r\n                {errorMessage && (\r\n                  <p className=\"error-message\">{errorMessage}</p>\r\n                )}\r\n              </div>\r\n              <button type=\"submit\" className=\"get-started-button\">\r\n                Get Started\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        {/* MediaGo NoScript Fallback */}\r\n        <noscript>\r\n          <img\r\n            src=\"//trace.mediago.io/api/bidder/track/pixel/conversion?cvn=view&acid=804&pxd=1167701885451231&tn=f9f2b1ef23fe2759c2cad0953029a94b\"\r\n            width=\"0\"\r\n            height=\"0\"\r\n            style={{ display: \"none\" }}\r\n          />\r\n        </noscript>\r\n        <Footer />\r\n      </div>\r\n    </CSSTransition>\r\n  );\r\n};\r\n\r\nexport default ZipCodePage2;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}