{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Monetizelab\\\\OneDrive\\\\Desktop\\\\trisDoc\\\\usainsurancereviews\\\\insurance-form\\\\src\\\\components\\\\UserFlowTwo\\\\LoadingDeals2.js\";\n// src/components/LoadingDeals.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FormDataContext } from \"../../contexts/FormDataContext\";\nimport axios from \"axios\";\nimport \"../../styles/flowOne/LoadingDeals.css\"; // Custom CSS for the loading animation\n\nconst LoadingDeals2 = () => {\n  const navigate = useNavigate();\n  const {\n    formData,\n    setFormData\n  } = useContext(FormDataContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchCityFromZip = async zipCode => {\n      try {\n        // Fetch city information from the zip code\n        const response = await axios.get(`https://api.zippopotam.us/us/${zipCode}`);\n        const cityName = response.data.places[0][\"place name\"];\n\n        // Update form data with the fetched city\n        setFormData({\n          ...formData,\n          city: cityName\n        });\n      } catch (error) {\n        console.error(\"Error fetching city data:\", error);\n        setFormData({\n          ...formData,\n          city: \"your area\"\n        });\n      } finally {\n        // Set loading state to false once the API call is complete\n        setLoading(false);\n\n        // Navigate to the OffersPage once the city data is loaded\n        setTimeout(() => {\n          navigate(\"/offers2\");\n        }, 2000); // Adding a slight delay for better user experience\n      }\n    };\n    if (formData.zipCode) {\n      fetchCityFromZip(formData.zipCode);\n    } else {\n      // If no zip code is provided, set loading to false\n      setLoading(false);\n      navigate(\"/offers2\");\n    }\n  }, [formData, navigate, setFormData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading-deals-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading-spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loading-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Looking for the best deals...\"));\n};\nexport default LoadingDeals2;","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","FormDataContext","axios","LoadingDeals2","navigate","formData","setFormData","loading","setLoading","fetchCityFromZip","zipCode","response","get","cityName","data","places","city","error","console","setTimeout","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/Monetizelab/OneDrive/Desktop/trisDoc/usainsurancereviews/insurance-form/src/components/UserFlowTwo/LoadingDeals2.js"],"sourcesContent":["// src/components/LoadingDeals.js\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FormDataContext } from \"../../contexts/FormDataContext\";\r\nimport axios from \"axios\";\r\nimport \"../../styles/flowOne/LoadingDeals.css\"; // Custom CSS for the loading animation\r\n\r\nconst LoadingDeals2 = () => {\r\n  const navigate = useNavigate();\r\n  const { formData, setFormData } = useContext(FormDataContext);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchCityFromZip = async (zipCode) => {\r\n      try {\r\n        // Fetch city information from the zip code\r\n        const response = await axios.get(\r\n          `https://api.zippopotam.us/us/${zipCode}`\r\n        );\r\n        const cityName = response.data.places[0][\"place name\"];\r\n\r\n        // Update form data with the fetched city\r\n        setFormData({ ...formData, city: cityName });\r\n      } catch (error) {\r\n        console.error(\"Error fetching city data:\", error);\r\n        setFormData({ ...formData, city: \"your area\" });\r\n      } finally {\r\n        // Set loading state to false once the API call is complete\r\n        setLoading(false);\r\n\r\n        // Navigate to the OffersPage once the city data is loaded\r\n        setTimeout(() => {\r\n          navigate(\"/offers2\");\r\n        }, 2000); // Adding a slight delay for better user experience\r\n      }\r\n    };\r\n\r\n    if (formData.zipCode) {\r\n      fetchCityFromZip(formData.zipCode);\r\n    } else {\r\n      // If no zip code is provided, set loading to false\r\n      setLoading(false);\r\n      navigate(\"/offers2\");\r\n    }\r\n  }, [formData, navigate, setFormData]);\r\n\r\n  return (\r\n    <div className=\"loading-deals-container\">\r\n      <div className=\"loading-spinner\"></div>\r\n      <p className=\"loading-text\">Looking for the best deals...</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingDeals2;\r\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,uCAAuC,CAAC,CAAC;;AAEhD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEK,QAAQ;IAAEC;EAAY,CAAC,GAAGP,UAAU,CAACE,eAAe,CAAC;EAC7D,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMY,gBAAgB,GAAG,MAAOC,OAAO,IAAK;MAC1C,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAC9B,gCAAgCF,OAAO,EACzC,CAAC;QACD,MAAMG,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;;QAEtD;QACAT,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEW,IAAI,EAAEH;QAAS,CAAC,CAAC;MAC9C,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjDX,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEW,IAAI,EAAE;QAAY,CAAC,CAAC;MACjD,CAAC,SAAS;QACR;QACAR,UAAU,CAAC,KAAK,CAAC;;QAEjB;QACAW,UAAU,CAAC,MAAM;UACff,QAAQ,CAAC,UAAU,CAAC;QACtB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;MACZ;IACF,CAAC;IAED,IAAIC,QAAQ,CAACK,OAAO,EAAE;MACpBD,gBAAgB,CAACJ,QAAQ,CAACK,OAAO,CAAC;IACpC,CAAC,MAAM;MACL;MACAF,UAAU,CAAC,KAAK,CAAC;MACjBJ,QAAQ,CAAC,UAAU,CAAC;IACtB;EACF,CAAC,EAAE,CAACC,QAAQ,EAAED,QAAQ,EAAEE,WAAW,CAAC,CAAC;EAErC,oBACEV,KAAA,CAAAwB,aAAA;IAAKC,SAAS,EAAC,yBAAyB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtC/B,KAAA,CAAAwB,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAM,CAAC,eACvC/B,KAAA,CAAAwB,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,+BAAgC,CACzD,CAAC;AAEV,CAAC;AAED,eAAexB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module"}