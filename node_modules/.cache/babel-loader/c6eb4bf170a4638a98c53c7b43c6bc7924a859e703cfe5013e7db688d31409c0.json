{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Monetizelab\\\\OneDrive\\\\Desktop\\\\trisDoc\\\\usainsurancereviews\\\\insurance-form\\\\src\\\\components\\\\UserFlowTwo\\\\LoadingDeals2.js\",\n  _s = $RefreshSig$();\n// src/components/LoadingDeals.js\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FormDataContext } from \"../../contexts/FormDataContext\";\nimport axios from \"axios\";\nimport \"../../styles/flowOne/LoadingDeals.css\"; // Custom CSS for the loading animation\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoadingDeals = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    formData,\n    setFormData\n  } = useContext(FormDataContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchCityFromZip = async zipCode => {\n      try {\n        // Fetch city information from the zip code\n        const response = await axios.get(`https://api.zippopotam.us/us/${zipCode}`);\n        const cityName = response.data.places[0][\"place name\"];\n\n        // Update form data with the fetched city\n        setFormData({\n          ...formData,\n          city: cityName\n        });\n      } catch (error) {\n        console.error(\"Error fetching city data:\", error);\n        setFormData({\n          ...formData,\n          city: \"your area\"\n        });\n      } finally {\n        // Set loading state to false once the API call is complete\n        setLoading(false);\n\n        // Navigate to the OffersPage once the city data is loaded\n        setTimeout(() => {\n          navigate(\"/offers\");\n        }, 2000); // Adding a slight delay for better user experience\n      }\n    };\n    if (formData.zipCode) {\n      fetchCityFromZip(formData.zipCode);\n    } else {\n      // If no zip code is provided, set loading to false\n      setLoading(false);\n      navigate(\"/offers\");\n    }\n  }, [formData, navigate, setFormData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-deals-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"loading-text\",\n      children: \"Looking for the best deals...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(LoadingDeals, \"ZieQwz5xeFSYNUcmlCr8GEGq1pY=\", false, function () {\n  return [useNavigate];\n});\n_c = LoadingDeals;\nexport default LoadingDeals;\nvar _c;\n$RefreshReg$(_c, \"LoadingDeals\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","FormDataContext","axios","jsxDEV","_jsxDEV","LoadingDeals","_s","navigate","formData","setFormData","loading","setLoading","fetchCityFromZip","zipCode","response","get","cityName","data","places","city","error","console","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Monetizelab/OneDrive/Desktop/trisDoc/usainsurancereviews/insurance-form/src/components/UserFlowTwo/LoadingDeals2.js"],"sourcesContent":["// src/components/LoadingDeals.js\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FormDataContext } from \"../../contexts/FormDataContext\";\r\nimport axios from \"axios\";\r\nimport \"../../styles/flowOne/LoadingDeals.css\"; // Custom CSS for the loading animation\r\n\r\nconst LoadingDeals = () => {\r\n  const navigate = useNavigate();\r\n  const { formData, setFormData } = useContext(FormDataContext);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchCityFromZip = async (zipCode) => {\r\n      try {\r\n        // Fetch city information from the zip code\r\n        const response = await axios.get(\r\n          `https://api.zippopotam.us/us/${zipCode}`\r\n        );\r\n        const cityName = response.data.places[0][\"place name\"];\r\n\r\n        // Update form data with the fetched city\r\n        setFormData({ ...formData, city: cityName });\r\n      } catch (error) {\r\n        console.error(\"Error fetching city data:\", error);\r\n        setFormData({ ...formData, city: \"your area\" });\r\n      } finally {\r\n        // Set loading state to false once the API call is complete\r\n        setLoading(false);\r\n\r\n        // Navigate to the OffersPage once the city data is loaded\r\n        setTimeout(() => {\r\n          navigate(\"/offers\");\r\n        }, 2000); // Adding a slight delay for better user experience\r\n      }\r\n    };\r\n\r\n    if (formData.zipCode) {\r\n      fetchCityFromZip(formData.zipCode);\r\n    } else {\r\n      // If no zip code is provided, set loading to false\r\n      setLoading(false);\r\n      navigate(\"/offers\");\r\n    }\r\n  }, [formData, navigate, setFormData]);\r\n\r\n  return (\r\n    <div className=\"loading-deals-container\">\r\n      <div className=\"loading-spinner\"></div>\r\n      <p className=\"loading-text\">Looking for the best deals...</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingDeals;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,uCAAuC,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEQ,QAAQ;IAAEC;EAAY,CAAC,GAAGV,UAAU,CAACE,eAAe,CAAC;EAC7D,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMe,gBAAgB,GAAG,MAAOC,OAAO,IAAK;MAC1C,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAC9B,gCAAgCF,OAAO,EACzC,CAAC;QACD,MAAMG,QAAQ,GAAGF,QAAQ,CAACG,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;;QAEtD;QACAT,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEW,IAAI,EAAEH;QAAS,CAAC,CAAC;MAC9C,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjDX,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEW,IAAI,EAAE;QAAY,CAAC,CAAC;MACjD,CAAC,SAAS;QACR;QACAR,UAAU,CAAC,KAAK,CAAC;;QAEjB;QACAW,UAAU,CAAC,MAAM;UACff,QAAQ,CAAC,SAAS,CAAC;QACrB,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;MACZ;IACF,CAAC;IAED,IAAIC,QAAQ,CAACK,OAAO,EAAE;MACpBD,gBAAgB,CAACJ,QAAQ,CAACK,OAAO,CAAC;IACpC,CAAC,MAAM;MACL;MACAF,UAAU,CAAC,KAAK,CAAC;MACjBJ,QAAQ,CAAC,SAAS,CAAC;IACrB;EACF,CAAC,EAAE,CAACC,QAAQ,EAAED,QAAQ,EAAEE,WAAW,CAAC,CAAC;EAErC,oBACEL,OAAA;IAAKmB,SAAS,EAAC,yBAAyB;IAAAC,QAAA,gBACtCpB,OAAA;MAAKmB,SAAS,EAAC;IAAiB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACvCxB,OAAA;MAAGmB,SAAS,EAAC,cAAc;MAAAC,QAAA,EAAC;IAA6B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEV,CAAC;AAACtB,EAAA,CA7CID,YAAY;EAAA,QACCL,WAAW;AAAA;AAAA6B,EAAA,GADxBxB,YAAY;AA+ClB,eAAeA,YAAY;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}