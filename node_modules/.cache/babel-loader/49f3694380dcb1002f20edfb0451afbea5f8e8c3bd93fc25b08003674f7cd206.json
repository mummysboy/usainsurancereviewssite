{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Monetizelab\\\\OneDrive\\\\Desktop\\\\trisDoc\\\\usainsurancereviews\\\\insurance-form\\\\src\\\\components\\\\UserFlowOne\\\\OffersPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport \"../../styles/flowOne/OffersPage.css\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OffersPage = () => {\n  _s();\n  const [cityName, setCityName] = useState(\"your area\");\n  const [placementId, setPlacementId] = useState(\"uGZJokgB7cJsneLQN-wSgBbQbnbzkQ\"); // Default placement ID\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const zipCode = params.get(\"zip\") || \"00000\";\n    const source = params.get(\"source\");\n    if (source === \"google\") {\n      setPlacementId(\"fD4petSMP9HeM2IAYex88RKg0siJ_Q\");\n    }\n\n    // Fetch city name from ZIP code if available\n    if (zipCode !== \"00000\") {\n      fetchCityName(zipCode);\n    }\n\n    // Load the MediaAlpha script after determining the correct placement ID\n    const mediaAlphaScript = document.createElement(\"script\");\n    mediaAlphaScript.src = \"//insurance.mediaalpha.com/js/serve.js\";\n    mediaAlphaScript.async = true;\n    mediaAlphaScript.onload = function () {\n      console.log(\"MediaAlpha script loaded successfully with placementId:\", placementId);\n      try {\n        window.MediaAlphaExchange = {\n          placement_id: placementId,\n          version: 17,\n          type: \"ad_unit\"\n        };\n        if (typeof window.MediaAlphaExchange__load === \"function\") {\n          window.MediaAlphaExchange__load(\"mediaalpha_placeholder\");\n          console.log(\"Ad successfully loaded in placeholder.\");\n        } else {\n          console.error(\"MediaAlphaExchange__load is not a function\");\n        }\n      } catch (e) {\n        console.error(\"Error loading MediaAlpha ad:\", e);\n      }\n    };\n    mediaAlphaScript.onerror = function () {\n      console.error(\"Failed to load MediaAlpha script.\");\n    };\n    document.body.appendChild(mediaAlphaScript);\n  }, [placementId]);\n  const fetchCityName = async zipCode => {\n    try {\n      const response = await fetch(`https://api.zippopotam.us/us/${zipCode}`);\n      if (response.ok) {\n        const data = await response.json();\n        const city = data.places[0][\"place name\"];\n        setCityName(city);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch city name:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: true,\n    appear: true,\n    timeout: 1500,\n    classNames: \"fade-slide\",\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"offers-page-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"offers-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"We've Matched You with Great Offers in \", cityName, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtext\",\n            children: [\"USA Insurance Reviews works with many reverse-bidding insurance companies. Based on your answers, we have matched you with the top aggregator in \", cityName, \" that can get you the best possible deal.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"offers-list\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"mediaalpha_placeholder\",\n            className: \"mediaalpha-container\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"powered-by-text\",\n          children: [\"Powered by \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"brand\",\n            children: \"usainsurancereviews.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(OffersPage, \"/LZoUH9/c3iuxTji1KVw05nEd0E=\");\n_c = OffersPage;\nexport default OffersPage;\nvar _c;\n$RefreshReg$(_c, \"OffersPage\");","map":{"version":3,"names":["React","useEffect","useState","Header","Footer","CSSTransition","jsxDEV","_jsxDEV","Fragment","_Fragment","OffersPage","_s","cityName","setCityName","placementId","setPlacementId","params","URLSearchParams","window","location","search","zipCode","get","source","fetchCityName","mediaAlphaScript","document","createElement","src","async","onload","console","log","MediaAlphaExchange","placement_id","version","type","MediaAlphaExchange__load","error","e","onerror","body","appendChild","response","fetch","ok","data","json","city","places","in","appear","timeout","classNames","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","_c","$RefreshReg$"],"sources":["C:/Users/Monetizelab/OneDrive/Desktop/trisDoc/usainsurancereviews/insurance-form/src/components/UserFlowOne/OffersPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport \"../../styles/flowOne/OffersPage.css\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst OffersPage = () => {\r\n  const [cityName, setCityName] = useState(\"your area\");\r\n  const [placementId, setPlacementId] = useState(\r\n    \"uGZJokgB7cJsneLQN-wSgBbQbnbzkQ\"\r\n  ); // Default placement ID\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const zipCode = params.get(\"zip\") || \"00000\";\r\n\r\n    const source = params.get(\"source\");\r\n    if (source === \"google\") {\r\n      setPlacementId(\"fD4petSMP9HeM2IAYex88RKg0siJ_Q\");\r\n    }\r\n\r\n    // Fetch city name from ZIP code if available\r\n    if (zipCode !== \"00000\") {\r\n      fetchCityName(zipCode);\r\n    }\r\n\r\n    // Load the MediaAlpha script after determining the correct placement ID\r\n    const mediaAlphaScript = document.createElement(\"script\");\r\n    mediaAlphaScript.src = \"//insurance.mediaalpha.com/js/serve.js\";\r\n    mediaAlphaScript.async = true;\r\n\r\n    mediaAlphaScript.onload = function () {\r\n      console.log(\r\n        \"MediaAlpha script loaded successfully with placementId:\",\r\n        placementId\r\n      );\r\n\r\n      try {\r\n        window.MediaAlphaExchange = {\r\n          placement_id: placementId,\r\n          version: 17,\r\n          type: \"ad_unit\",\r\n        };\r\n        if (typeof window.MediaAlphaExchange__load === \"function\") {\r\n          window.MediaAlphaExchange__load(\"mediaalpha_placeholder\");\r\n          console.log(\"Ad successfully loaded in placeholder.\");\r\n        } else {\r\n          console.error(\"MediaAlphaExchange__load is not a function\");\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Error loading MediaAlpha ad:\", e);\r\n      }\r\n    };\r\n\r\n    mediaAlphaScript.onerror = function () {\r\n      console.error(\"Failed to load MediaAlpha script.\");\r\n    };\r\n\r\n    document.body.appendChild(mediaAlphaScript);\r\n  }, [placementId]);\r\n\r\n  const fetchCityName = async (zipCode) => {\r\n    try {\r\n      const response = await fetch(`https://api.zippopotam.us/us/${zipCode}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const city = data.places[0][\"place name\"];\r\n        setCityName(city);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch city name:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CSSTransition\r\n      in={true}\r\n      appear={true}\r\n      timeout={1500}\r\n      classNames=\"fade-slide\"\r\n    >\r\n      <>\r\n        <Header />\r\n        <div className=\"offers-page-container\">\r\n          <div className=\"offers-header\">\r\n            <h2>We've Matched You with Great Offers in {cityName}!</h2>\r\n            <p className=\"subtext\">\r\n              USA Insurance Reviews works with many reverse-bidding insurance\r\n              companies. Based on your answers, we have matched you with the top\r\n              aggregator in {cityName} that can get you the best possible deal.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"offers-list\">\r\n            {/* Placeholder for the MediaAlpha ad unit */}\r\n            <div\r\n              id=\"mediaalpha_placeholder\"\r\n              className=\"mediaalpha-container\"\r\n            ></div>\r\n          </div>\r\n\r\n          <p className=\"powered-by-text\">\r\n            Powered by <span className=\"brand\">usainsurancereviews.com</span>\r\n          </p>\r\n        </div>\r\n        <Footer />\r\n      </>\r\n    </CSSTransition>\r\n  );\r\n};\r\n\r\nexport default OffersPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}