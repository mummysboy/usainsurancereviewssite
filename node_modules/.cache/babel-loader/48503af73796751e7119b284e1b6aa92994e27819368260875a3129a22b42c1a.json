{"ast":null,"code":"// src/components/OffersPage.js\nimport React,{useContext,useEffect,useState}from\"react\";import{FormDataContext}from\"../contexts/FormDataContext\";import Header from\"./Header\";import Footer from\"./Footer\";import\"./../OffersPage.css\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OffersPage=()=>{const{formData}=useContext(FormDataContext);const[city,setCity]=useState(\"\");const[loading,setLoading]=useState(true);useEffect(()=>{const fetchCityFromZip=async zipCode=>{try{const response=await axios.get(`https://api.zippopotam.us/us/${zipCode}`);const cityName=response.data.places[0][\"place name\"];setCity(cityName);}catch(error){console.error(\"Error fetching city data:\",error);setCity(\"your area\");}finally{setLoading(false);}};if(formData.zipCode){fetchCityFromZip(formData.zipCode);}else{setLoading(false);}// Load the MediaAlpha ad script\nconst script=document.createElement(\"script\");script.type=\"text/javascript\";script.innerHTML=`\n      var MediaAlphaExchange = {\n         \"data\": {\n            \"zip\": \"${formData.zipCode||\"00000\"}\"\n         },\n         \"placement_id\": \"fD4petSMP9HeM2IAYex88RKg0siJ_Q\",\n         \"sub_1\": \"test sub id\",\n         \"type\": \"ad_unit\",\n         \"version\": 17\n      };\n      MediaAlphaExchange__load('mediaalpha_placeholder');\n    `;document.body.appendChild(script);},[formData.zipCode]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"offers-page-container\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"Loading the best offers for you...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"offers-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"We've Matched You with Great Offers in\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"location-highlight\",children:city}),\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"subtext\",children:[\"Best matches for your criteria - Age\",\" \",formData.ageGroup||\"N/A\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Click on 2 or more offers below to compare quotes and maximize your savings\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"offers-list\",children:/*#__PURE__*/_jsx(\"div\",{id:\"mediaalpha_placeholder\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"powered-by-text\",children:[\"Powered by \",/*#__PURE__*/_jsx(\"span\",{className:\"brand\",children:\"usainsurancereviews.com\"})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default OffersPage;","map":{"version":3,"names":["React","useContext","useEffect","useState","FormDataContext","Header","Footer","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OffersPage","formData","city","setCity","loading","setLoading","fetchCityFromZip","zipCode","response","get","cityName","data","places","error","console","script","document","createElement","type","innerHTML","body","appendChild","children","className","ageGroup","id"],"sources":["C:/Users/Monetizelab/OneDrive/Desktop/trisDoc/usainsurancereviews/insurance-form/src/components/OffersPage.js"],"sourcesContent":["// src/components/OffersPage.js\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { FormDataContext } from \"../contexts/FormDataContext\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport \"./../OffersPage.css\";\r\nimport axios from \"axios\";\r\n\r\nconst OffersPage = () => {\r\n  const { formData } = useContext(FormDataContext);\r\n  const [city, setCity] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchCityFromZip = async (zipCode) => {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://api.zippopotam.us/us/${zipCode}`\r\n        );\r\n        const cityName = response.data.places[0][\"place name\"];\r\n        setCity(cityName);\r\n      } catch (error) {\r\n        console.error(\"Error fetching city data:\", error);\r\n        setCity(\"your area\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (formData.zipCode) {\r\n      fetchCityFromZip(formData.zipCode);\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n\r\n    // Load the MediaAlpha ad script\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.innerHTML = `\r\n      var MediaAlphaExchange = {\r\n         \"data\": {\r\n            \"zip\": \"${formData.zipCode || \"00000\"}\"\r\n         },\r\n         \"placement_id\": \"fD4petSMP9HeM2IAYex88RKg0siJ_Q\",\r\n         \"sub_1\": \"test sub id\",\r\n         \"type\": \"ad_unit\",\r\n         \"version\": 17\r\n      };\r\n      MediaAlphaExchange__load('mediaalpha_placeholder');\r\n    `;\r\n    document.body.appendChild(script);\r\n  }, [formData.zipCode]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"offers-page-container\">\r\n        {loading ? (\r\n          <div className=\"loading-container\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p className=\"loading-text\">Loading the best offers for you...</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"offers-header\">\r\n              <h2>\r\n                We've Matched You with Great Offers in{\" \"}\r\n                <span className=\"location-highlight\">{city}</span>!\r\n              </h2>\r\n              <p className=\"subtext\">\r\n                Best matches for your criteria - Age{\" \"}\r\n                {formData.ageGroup || \"N/A\"}\r\n              </p>\r\n              <p>\r\n                Click on 2 or more offers below to compare quotes and maximize\r\n                your savings\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"offers-list\">\r\n              {/* Placeholder for the MediaAlpha ad unit */}\r\n              <div id=\"mediaalpha_placeholder\"></div>\r\n            </div>\r\n\r\n            <p className=\"powered-by-text\">\r\n              Powered by <span className=\"brand\">usainsurancereviews.com</span>\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OffersPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}